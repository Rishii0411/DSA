2026-02-28 | Concatenation of Consecutive Binary Numbers

	Question
Given n,
return the decimal value of concatenated binary numbers
from 1 to n modulo 10^9 + 7.

	Approach
1.	Observation:
	When appending a number i,
	it is equivalent to:
		result = (result << number_of_bits_in_i) + i
2.	Instead of converting to string,
	we use bit operations.
3.	Number of bits increases
	whenever i is a power of 2.
4.	Maintain:
		bitLength = current bit length
5.	If i is power of 2:
		increment bitLength.
6.	Update:
		result = ((result << bitLength) % MOD + i) % MOD
7.	Time Complexity:
		O(n)
8.	Space Complexity:
		O(1)

	Solution

class Solution {
public:
    int concatenatedBinary(int n) {
        const int MOD = 1e9 + 7;
        long long result = 0;
        int bitLength = 0;

        for (int i = 1; i <= n; i++) {
            if ((i & (i - 1)) == 0)  // power of 2
                bitLength++;

            result = ((result << bitLength) % MOD + i) % MOD;
        }

        return result;
    }
};

	Key Insight
Appending binary numbers is equivalent to
left-shifting the current result by the number
of bits of the new number.
Detecting powers of 2 lets us track bit-length efficiently.
